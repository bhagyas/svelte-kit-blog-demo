<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" href="/svelte-kit-blog-demo/favicon.ico" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<title>Create Your Blog with SvelteKit</title><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.1/styles/github.min.css" data-svelte="svelte-dd1lau"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Overpass" data-svelte="svelte-dd1lau"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Fira+Mono" data-svelte="svelte-dd1lau">



<link rel="modulepreload" href="/svelte-kit-blog-demo/_app/start-2ad1003f.js">
			<link rel="modulepreload" href="/svelte-kit-blog-demo/_app/chunks/vendor-8b508088.js">
			<link rel="modulepreload" href="/svelte-kit-blog-demo/_app/chunks/paths-d3b7dcf1.js">
			<link rel="modulepreload" href="/svelte-kit-blog-demo/_app/pages/[slug].svelte-d17a7391.js">
			<link rel="stylesheet" href="/svelte-kit-blog-demo/_app/assets/start-cf8fa562.css">
			<link rel="stylesheet" href="/svelte-kit-blog-demo/_app/assets/pages/[slug].svelte-910cbb92.css">


		<script type="module">
			import { start } from "/svelte-kit-blog-demo/_app/start-2ad1003f.js";
			start({
				target: document.querySelector("#svelte"),
				paths: {"base":"/svelte-kit-blog-demo","assets":"/svelte-kit-blog-demo"},
				session: {},
				host: location.host,
				route: true,
				hydrate: {
					status: 200,
					error: null,
					nodes: [
						import("/svelte-kit-blog-demo/_app/pages/[slug].svelte-d17a7391.js")
					],
					page: {
						host: location.host, // TODO this is redundant
						path: "/create-your-blog",
						query: new URLSearchParams(""),
						params: {"slug":"create-your-blog"}
					}
				}
			});
		</script>
	</head>
	<body>
		<div id="svelte">




<div class="g-app-wrapper svelte-1b6ygo1"><div><nav class="svelte-t63ly7"><a href="/svelte-kit-blog-demo/" class="svelte-t63ly7"><h3 class="home svelte-t63ly7">HOME</h3></a>
    <a href="/svelte-kit-blog-demo/about" class="svelte-t63ly7"><h3 class="about svelte-t63ly7">about</h3></a></nav>
</div>
  

<h1 class="title svelte-1mgzh8t">Create Your Blog with SvelteKit</h1>
<p class="info"><a href="https://github.com/zhuzilin">zhuzilin</a> APR 3, 2021</p>
<p>Recently, SvelteKit is <a href="https://svelte.dev/blog/sveltekit-beta">released in public beta</a>. And we could finally see what Rich Harris called "<a href="https://www.youtube.com/watch?v=qSfdtmcZ4d0">Futuristic Web Development</a>" is made of. It's always better to learn with project, so I made this little blog (the one you are reading) with SvelteKit and deployed it on the Github Pages. And there are things I learnt.</p>
<h2>Brief Intro of Svelte and SvelteKit</h2>
<p>For those who are not familiar with Svelte and SvelteKit:</p>
<p><a href="https://svelte.dev/">Svelte</a> is a reactive Web component framework. Unlike traditionaly counterparts like React and Vue, Svelte does not use virtual dom (vdom), but instead compiles the app to vanilla js during building. This results in an extreme small bundle size and blazing fast speed, as the app no longer contains runtime code and has get rid of the overheads of vdom relevant computation. In addition, Svelte is designed to be very close to plain HTML and CSS, which makes the code clean and easy to read.</p>
<p><a href="https://kit.svelte.dev/">SvelteKit</a> is the framework for building Svelte based app. With the help of <a href="https://vitejs.dev/">Vite</a>, SvelteKit provides excellent developing experience.</p>
<h2>Minimal SvelteKit Tutorial</h2>
<p>I'm not going to introduce how to use Svelte in this series of posts, as the official doc has done a great job. As for SvelteKit, I will try to cover only the bits and bobs used for the blog app. Anyway, it's very recommended to go through the <a href="https://svelte.dev/tutorial/basics">Svelte tutorial</a> and the <a href="https://kit.svelte.dev/docs">SvelteKit doc</a>.</p>
<h3>Routing and Layout</h3>
<p>Our blog will contain 3 types of pages:</p>
<ul>
<li>index page: show the list of post titles</li>
<li>post page: render markdown file into beautiful html</li>
<li>about page: show about information</li>
</ul>
<p>In SvelteKit, we have a so-called <em>a filesystem-based router</em>. The files in <code>src/route</code> will correspond to the actual webpage. In our case, the folder structure of <code>src/route</code> would be:</p>
<pre><code class="hljs language-stylus">route
├── <span class="hljs-variable">$layout</span><span class="hljs-selector-class">.svelte</span>
├── about<span class="hljs-selector-class">.svelte</span>
├── <span class="hljs-selector-attr">[slug]</span><span class="hljs-selector-class">.svelte</span>
└── index<span class="hljs-selector-class">.svelte</span>
</code></pre>
<p>where <code>about.svelte</code> will be <code>xxx.com/about</code>, <code>index.svelte</code> will be <code>xxx.com/</code>. As for the <code>[slug].svelte</code>, it is a dynamic route, whose dynamic parameter is the <code>slug</code> in the bracket. For example, we may have a generated <code>xxx.com/hello-world</code>, then SvelteKit will use <code>[slug].svelte</code> to generate this page and set <code>slug</code> to <code>hello-world</code>.</p>
<p>The remaining <code>$layout.svelte</code> file serves as the layout template, all other files will be rendered inside the <code>&#x3C;slot>&#x3C;/slot></code> of it.</p>
<h3>Import Components</h3>
<p>A typical use of the layout file is adding a navigation bar. In SvelteKit, we should put the extracted components in <code>src/lib</code> and use the <code>$lib/xxx</code> to import them. In our case, I added a <code>Nav.svelte</code> in <code>src/lib</code>:</p>
<pre><code class="hljs language-html"><span class="hljs-comment">&#x3C;!--lib/Nav.svelte--></span>
<span class="hljs-tag">&#x3C;<span class="hljs-name">div</span>></span>
  <span class="hljs-tag">&#x3C;<span class="hljs-name">nav</span>></span>
    <span class="hljs-tag">&#x3C;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"/"</span>></span><span class="hljs-tag">&#x3C;<span class="hljs-name">h3</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"home"</span>></span>HOME<span class="hljs-tag">&#x3C;/<span class="hljs-name">h3</span>></span><span class="hljs-tag">&#x3C;/<span class="hljs-name">a</span>></span>
    <span class="hljs-tag">&#x3C;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"/about"</span>></span><span class="hljs-tag">&#x3C;<span class="hljs-name">h3</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"about"</span>></span>about<span class="hljs-tag">&#x3C;/<span class="hljs-name">h3</span>></span><span class="hljs-tag">&#x3C;/<span class="hljs-name">a</span>></span>
  <span class="hljs-tag">&#x3C;/<span class="hljs-name">nav</span>></span>
<span class="hljs-tag">&#x3C;/<span class="hljs-name">div</span>></span>
</code></pre>
<p>And in <code>$layout.svelte</code>, I can import the <code>Nav</code> component in this way:</p>
<pre><code class="hljs language-html"><span class="hljs-tag">&#x3C;<span class="hljs-name">script</span>></span><span class="javascript">
	<span class="hljs-keyword">import</span> <span class="hljs-string">'../app.scss'</span>;
  <span class="hljs-keyword">import</span> Nav <span class="hljs-keyword">from</span> <span class="hljs-string">'$lib/Nav.svelte'</span>;
</span><span class="hljs-tag">&#x3C;/<span class="hljs-name">script</span>></span>

<span class="hljs-tag">&#x3C;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"g-app-wrapper"</span>></span>
  <span class="hljs-tag">&#x3C;<span class="hljs-name">Nav</span>/></span>
  <span class="hljs-tag">&#x3C;<span class="hljs-name">slot</span>></span><span class="hljs-tag">&#x3C;/<span class="hljs-name">slot</span>></span>
<span class="hljs-tag">&#x3C;/<span class="hljs-name">div</span>></span>
</code></pre>
<h3>Data Loading and EndPoints</h3>
<h2>Read the markdown files</h2>
<pre><code class="hljs language-js"><span class="hljs-comment">// [slug].json.js</span>
<span class="hljs-keyword">import</span> fs <span class="hljs-keyword">from</span> <span class="hljs-string">'fs'</span>;

<span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">get</span>(<span class="hljs-params">{ params }</span>) </span>{
  <span class="hljs-keyword">const</span> { slug } = params;

  <span class="hljs-keyword">let</span> data = fs.readSync(<span class="hljs-string">`src/posts/<span class="hljs-subst">${slug}</span>.md`</span>);
  ...
}
</code></pre>
<h2>Parse the markdown with remark</h2>
<h2>Rendered the generated html</h2>
<pre><code class="hljs language-html"><span class="hljs-tag">&#x3C;<span class="hljs-name">script</span> <span class="hljs-attr">context</span>=<span class="hljs-string">"module"</span>></span><span class="javascript">
  <span class="hljs-keyword">export</span> <span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">load</span>(<span class="hljs-params">{ page, fetch }</span>) </span>{
    <span class="hljs-keyword">const</span> slug = page.params.slug;
    <span class="hljs-keyword">const</span> post = <span class="hljs-keyword">await</span> fetch(<span class="hljs-string">`/<span class="hljs-subst">${slug}</span>.json`</span>)
        .then(<span class="hljs-function">(<span class="hljs-params">r</span>) =></span> r.json());
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">props</span>: { post }
    };
  }
</span><span class="hljs-tag">&#x3C;/<span class="hljs-name">script</span>></span>

{@html post.content}
</code></pre>
<h2>Tips</h2>
<p>Some confusing errrors could be solved by moving the dependencies to <code>devDependencies</code> due to some bugs of Vite.</p>
</div>



	<script type="svelte-data" url="/create-your-blog.json">{"status":200,"statusText":"","headers":{"content-type":"text/plain;charset=UTF-8"},"body":"{\"metadata\":{\"title\":\"Create Your Blog with SvelteKit\",\"date\":\"Apr 3, 2021\",\"excerpt\":\"It's time to rewrite your blog in SvelteKit!\"},\"content\":\"\u003Cp\u003ERecently, SvelteKit is \u003Ca href=\\\"https:\u002F\u002Fsvelte.dev\u002Fblog\u002Fsveltekit-beta\\\"\u003Ereleased in public beta\u003C\u002Fa\u003E. And we could finally see what Rich Harris called \\\"\u003Ca href=\\\"https:\u002F\u002Fwww.youtube.com\u002Fwatch?v=qSfdtmcZ4d0\\\"\u003EFuturistic Web Development\u003C\u002Fa\u003E\\\" is made of. It's always better to learn with project, so I made this little blog (the one you are reading) with SvelteKit and deployed it on the Github Pages. And there are things I learnt.\u003C\u002Fp\u003E\\n\u003Ch2\u003EBrief Intro of Svelte and SvelteKit\u003C\u002Fh2\u003E\\n\u003Cp\u003EFor those who are not familiar with Svelte and SvelteKit:\u003C\u002Fp\u003E\\n\u003Cp\u003E\u003Ca href=\\\"https:\u002F\u002Fsvelte.dev\u002F\\\"\u003ESvelte\u003C\u002Fa\u003E is a reactive Web component framework. Unlike traditionaly counterparts like React and Vue, Svelte does not use virtual dom (vdom), but instead compiles the app to vanilla js during building. This results in an extreme small bundle size and blazing fast speed, as the app no longer contains runtime code and has get rid of the overheads of vdom relevant computation. In addition, Svelte is designed to be very close to plain HTML and CSS, which makes the code clean and easy to read.\u003C\u002Fp\u003E\\n\u003Cp\u003E\u003Ca href=\\\"https:\u002F\u002Fkit.svelte.dev\u002F\\\"\u003ESvelteKit\u003C\u002Fa\u003E is the framework for building Svelte based app. With the help of \u003Ca href=\\\"https:\u002F\u002Fvitejs.dev\u002F\\\"\u003EVite\u003C\u002Fa\u003E, SvelteKit provides excellent developing experience.\u003C\u002Fp\u003E\\n\u003Ch2\u003EMinimal SvelteKit Tutorial\u003C\u002Fh2\u003E\\n\u003Cp\u003EI'm not going to introduce how to use Svelte in this series of posts, as the official doc has done a great job. As for SvelteKit, I will try to cover only the bits and bobs used for the blog app. Anyway, it's very recommended to go through the \u003Ca href=\\\"https:\u002F\u002Fsvelte.dev\u002Ftutorial\u002Fbasics\\\"\u003ESvelte tutorial\u003C\u002Fa\u003E and the \u003Ca href=\\\"https:\u002F\u002Fkit.svelte.dev\u002Fdocs\\\"\u003ESvelteKit doc\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\\n\u003Ch3\u003ERouting and Layout\u003C\u002Fh3\u003E\\n\u003Cp\u003EOur blog will contain 3 types of pages:\u003C\u002Fp\u003E\\n\u003Cul\u003E\\n\u003Cli\u003Eindex page: show the list of post titles\u003C\u002Fli\u003E\\n\u003Cli\u003Epost page: render markdown file into beautiful html\u003C\u002Fli\u003E\\n\u003Cli\u003Eabout page: show about information\u003C\u002Fli\u003E\\n\u003C\u002Ful\u003E\\n\u003Cp\u003EIn SvelteKit, we have a so-called \u003Cem\u003Ea filesystem-based router\u003C\u002Fem\u003E. The files in \u003Ccode\u003Esrc\u002Froute\u003C\u002Fcode\u003E will correspond to the actual webpage. In our case, the folder structure of \u003Ccode\u003Esrc\u002Froute\u003C\u002Fcode\u003E would be:\u003C\u002Fp\u003E\\n\u003Cpre\u003E\u003Ccode class=\\\"hljs language-stylus\\\"\u003Eroute\\n├── \u003Cspan class=\\\"hljs-variable\\\"\u003E$layout\u003C\u002Fspan\u003E\u003Cspan class=\\\"hljs-selector-class\\\"\u003E.svelte\u003C\u002Fspan\u003E\\n├── about\u003Cspan class=\\\"hljs-selector-class\\\"\u003E.svelte\u003C\u002Fspan\u003E\\n├── \u003Cspan class=\\\"hljs-selector-attr\\\"\u003E[slug]\u003C\u002Fspan\u003E\u003Cspan class=\\\"hljs-selector-class\\\"\u003E.svelte\u003C\u002Fspan\u003E\\n└── index\u003Cspan class=\\\"hljs-selector-class\\\"\u003E.svelte\u003C\u002Fspan\u003E\\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\\n\u003Cp\u003Ewhere \u003Ccode\u003Eabout.svelte\u003C\u002Fcode\u003E will be \u003Ccode\u003Exxx.com\u002Fabout\u003C\u002Fcode\u003E, \u003Ccode\u003Eindex.svelte\u003C\u002Fcode\u003E will be \u003Ccode\u003Exxx.com\u002F\u003C\u002Fcode\u003E. As for the \u003Ccode\u003E[slug].svelte\u003C\u002Fcode\u003E, it is a dynamic route, whose dynamic parameter is the \u003Ccode\u003Eslug\u003C\u002Fcode\u003E in the bracket. For example, we may have a generated \u003Ccode\u003Exxx.com\u002Fhello-world\u003C\u002Fcode\u003E, then SvelteKit will use \u003Ccode\u003E[slug].svelte\u003C\u002Fcode\u003E to generate this page and set \u003Ccode\u003Eslug\u003C\u002Fcode\u003E to \u003Ccode\u003Ehello-world\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\\n\u003Cp\u003EThe remaining \u003Ccode\u003E$layout.svelte\u003C\u002Fcode\u003E file serves as the layout template, all other files will be rendered inside the \u003Ccode\u003E&#x3C;slot\u003E&#x3C;\u002Fslot\u003E\u003C\u002Fcode\u003E of it.\u003C\u002Fp\u003E\\n\u003Ch3\u003EImport Components\u003C\u002Fh3\u003E\\n\u003Cp\u003EA typical use of the layout file is adding a navigation bar. In SvelteKit, we should put the extracted components in \u003Ccode\u003Esrc\u002Flib\u003C\u002Fcode\u003E and use the \u003Ccode\u003E$lib\u002Fxxx\u003C\u002Fcode\u003E to import them. In our case, I added a \u003Ccode\u003ENav.svelte\u003C\u002Fcode\u003E in \u003Ccode\u003Esrc\u002Flib\u003C\u002Fcode\u003E:\u003C\u002Fp\u003E\\n\u003Cpre\u003E\u003Ccode class=\\\"hljs language-html\\\"\u003E\u003Cspan class=\\\"hljs-comment\\\"\u003E&#x3C;!--lib\u002FNav.svelte--\u003E\u003C\u002Fspan\u003E\\n\u003Cspan class=\\\"hljs-tag\\\"\u003E&#x3C;\u003Cspan class=\\\"hljs-name\\\"\u003Ediv\u003C\u002Fspan\u003E\u003E\u003C\u002Fspan\u003E\\n  \u003Cspan class=\\\"hljs-tag\\\"\u003E&#x3C;\u003Cspan class=\\\"hljs-name\\\"\u003Enav\u003C\u002Fspan\u003E\u003E\u003C\u002Fspan\u003E\\n    \u003Cspan class=\\\"hljs-tag\\\"\u003E&#x3C;\u003Cspan class=\\\"hljs-name\\\"\u003Ea\u003C\u002Fspan\u003E \u003Cspan class=\\\"hljs-attr\\\"\u003Ehref\u003C\u002Fspan\u003E=\u003Cspan class=\\\"hljs-string\\\"\u003E\\\"\u002F\\\"\u003C\u002Fspan\u003E\u003E\u003C\u002Fspan\u003E\u003Cspan class=\\\"hljs-tag\\\"\u003E&#x3C;\u003Cspan class=\\\"hljs-name\\\"\u003Eh3\u003C\u002Fspan\u003E \u003Cspan class=\\\"hljs-attr\\\"\u003Eclass\u003C\u002Fspan\u003E=\u003Cspan class=\\\"hljs-string\\\"\u003E\\\"home\\\"\u003C\u002Fspan\u003E\u003E\u003C\u002Fspan\u003EHOME\u003Cspan class=\\\"hljs-tag\\\"\u003E&#x3C;\u002F\u003Cspan class=\\\"hljs-name\\\"\u003Eh3\u003C\u002Fspan\u003E\u003E\u003C\u002Fspan\u003E\u003Cspan class=\\\"hljs-tag\\\"\u003E&#x3C;\u002F\u003Cspan class=\\\"hljs-name\\\"\u003Ea\u003C\u002Fspan\u003E\u003E\u003C\u002Fspan\u003E\\n    \u003Cspan class=\\\"hljs-tag\\\"\u003E&#x3C;\u003Cspan class=\\\"hljs-name\\\"\u003Ea\u003C\u002Fspan\u003E \u003Cspan class=\\\"hljs-attr\\\"\u003Ehref\u003C\u002Fspan\u003E=\u003Cspan class=\\\"hljs-string\\\"\u003E\\\"\u002Fabout\\\"\u003C\u002Fspan\u003E\u003E\u003C\u002Fspan\u003E\u003Cspan class=\\\"hljs-tag\\\"\u003E&#x3C;\u003Cspan class=\\\"hljs-name\\\"\u003Eh3\u003C\u002Fspan\u003E \u003Cspan class=\\\"hljs-attr\\\"\u003Eclass\u003C\u002Fspan\u003E=\u003Cspan class=\\\"hljs-string\\\"\u003E\\\"about\\\"\u003C\u002Fspan\u003E\u003E\u003C\u002Fspan\u003Eabout\u003Cspan class=\\\"hljs-tag\\\"\u003E&#x3C;\u002F\u003Cspan class=\\\"hljs-name\\\"\u003Eh3\u003C\u002Fspan\u003E\u003E\u003C\u002Fspan\u003E\u003Cspan class=\\\"hljs-tag\\\"\u003E&#x3C;\u002F\u003Cspan class=\\\"hljs-name\\\"\u003Ea\u003C\u002Fspan\u003E\u003E\u003C\u002Fspan\u003E\\n  \u003Cspan class=\\\"hljs-tag\\\"\u003E&#x3C;\u002F\u003Cspan class=\\\"hljs-name\\\"\u003Enav\u003C\u002Fspan\u003E\u003E\u003C\u002Fspan\u003E\\n\u003Cspan class=\\\"hljs-tag\\\"\u003E&#x3C;\u002F\u003Cspan class=\\\"hljs-name\\\"\u003Ediv\u003C\u002Fspan\u003E\u003E\u003C\u002Fspan\u003E\\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\\n\u003Cp\u003EAnd in \u003Ccode\u003E$layout.svelte\u003C\u002Fcode\u003E, I can import the \u003Ccode\u003ENav\u003C\u002Fcode\u003E component in this way:\u003C\u002Fp\u003E\\n\u003Cpre\u003E\u003Ccode class=\\\"hljs language-html\\\"\u003E\u003Cspan class=\\\"hljs-tag\\\"\u003E&#x3C;\u003Cspan class=\\\"hljs-name\\\"\u003Escript\u003C\u002Fspan\u003E\u003E\u003C\u002Fspan\u003E\u003Cspan class=\\\"javascript\\\"\u003E\\n\\t\u003Cspan class=\\\"hljs-keyword\\\"\u003Eimport\u003C\u002Fspan\u003E \u003Cspan class=\\\"hljs-string\\\"\u003E'..\u002Fapp.scss'\u003C\u002Fspan\u003E;\\n  \u003Cspan class=\\\"hljs-keyword\\\"\u003Eimport\u003C\u002Fspan\u003E Nav \u003Cspan class=\\\"hljs-keyword\\\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\\\"hljs-string\\\"\u003E'$lib\u002FNav.svelte'\u003C\u002Fspan\u003E;\\n\u003C\u002Fspan\u003E\u003Cspan class=\\\"hljs-tag\\\"\u003E&#x3C;\u002F\u003Cspan class=\\\"hljs-name\\\"\u003Escript\u003C\u002Fspan\u003E\u003E\u003C\u002Fspan\u003E\\n\\n\u003Cspan class=\\\"hljs-tag\\\"\u003E&#x3C;\u003Cspan class=\\\"hljs-name\\\"\u003Ediv\u003C\u002Fspan\u003E \u003Cspan class=\\\"hljs-attr\\\"\u003Eclass\u003C\u002Fspan\u003E=\u003Cspan class=\\\"hljs-string\\\"\u003E\\\"g-app-wrapper\\\"\u003C\u002Fspan\u003E\u003E\u003C\u002Fspan\u003E\\n  \u003Cspan class=\\\"hljs-tag\\\"\u003E&#x3C;\u003Cspan class=\\\"hljs-name\\\"\u003ENav\u003C\u002Fspan\u003E\u002F\u003E\u003C\u002Fspan\u003E\\n  \u003Cspan class=\\\"hljs-tag\\\"\u003E&#x3C;\u003Cspan class=\\\"hljs-name\\\"\u003Eslot\u003C\u002Fspan\u003E\u003E\u003C\u002Fspan\u003E\u003Cspan class=\\\"hljs-tag\\\"\u003E&#x3C;\u002F\u003Cspan class=\\\"hljs-name\\\"\u003Eslot\u003C\u002Fspan\u003E\u003E\u003C\u002Fspan\u003E\\n\u003Cspan class=\\\"hljs-tag\\\"\u003E&#x3C;\u002F\u003Cspan class=\\\"hljs-name\\\"\u003Ediv\u003C\u002Fspan\u003E\u003E\u003C\u002Fspan\u003E\\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\\n\u003Ch3\u003EData Loading and EndPoints\u003C\u002Fh3\u003E\\n\u003Ch2\u003ERead the markdown files\u003C\u002Fh2\u003E\\n\u003Cpre\u003E\u003Ccode class=\\\"hljs language-js\\\"\u003E\u003Cspan class=\\\"hljs-comment\\\"\u003E\u002F\u002F [slug].json.js\u003C\u002Fspan\u003E\\n\u003Cspan class=\\\"hljs-keyword\\\"\u003Eimport\u003C\u002Fspan\u003E fs \u003Cspan class=\\\"hljs-keyword\\\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\\\"hljs-string\\\"\u003E'fs'\u003C\u002Fspan\u003E;\\n\\n\u003Cspan class=\\\"hljs-keyword\\\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\\\"hljs-function\\\"\u003E\u003Cspan class=\\\"hljs-keyword\\\"\u003Efunction\u003C\u002Fspan\u003E \u003Cspan class=\\\"hljs-title\\\"\u003Eget\u003C\u002Fspan\u003E(\u003Cspan class=\\\"hljs-params\\\"\u003E{ params }\u003C\u002Fspan\u003E) \u003C\u002Fspan\u003E{\\n  \u003Cspan class=\\\"hljs-keyword\\\"\u003Econst\u003C\u002Fspan\u003E { slug } = params;\\n\\n  \u003Cspan class=\\\"hljs-keyword\\\"\u003Elet\u003C\u002Fspan\u003E data = fs.readSync(\u003Cspan class=\\\"hljs-string\\\"\u003E`src\u002Fposts\u002F\u003Cspan class=\\\"hljs-subst\\\"\u003E${slug}\u003C\u002Fspan\u003E.md`\u003C\u002Fspan\u003E);\\n  ...\\n}\\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\\n\u003Ch2\u003EParse the markdown with remark\u003C\u002Fh2\u003E\\n\u003Ch2\u003ERendered the generated html\u003C\u002Fh2\u003E\\n\u003Cpre\u003E\u003Ccode class=\\\"hljs language-html\\\"\u003E\u003Cspan class=\\\"hljs-tag\\\"\u003E&#x3C;\u003Cspan class=\\\"hljs-name\\\"\u003Escript\u003C\u002Fspan\u003E \u003Cspan class=\\\"hljs-attr\\\"\u003Econtext\u003C\u002Fspan\u003E=\u003Cspan class=\\\"hljs-string\\\"\u003E\\\"module\\\"\u003C\u002Fspan\u003E\u003E\u003C\u002Fspan\u003E\u003Cspan class=\\\"javascript\\\"\u003E\\n  \u003Cspan class=\\\"hljs-keyword\\\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\\\"hljs-keyword\\\"\u003Easync\u003C\u002Fspan\u003E \u003Cspan class=\\\"hljs-function\\\"\u003E\u003Cspan class=\\\"hljs-keyword\\\"\u003Efunction\u003C\u002Fspan\u003E \u003Cspan class=\\\"hljs-title\\\"\u003Eload\u003C\u002Fspan\u003E(\u003Cspan class=\\\"hljs-params\\\"\u003E{ page, fetch }\u003C\u002Fspan\u003E) \u003C\u002Fspan\u003E{\\n    \u003Cspan class=\\\"hljs-keyword\\\"\u003Econst\u003C\u002Fspan\u003E slug = page.params.slug;\\n    \u003Cspan class=\\\"hljs-keyword\\\"\u003Econst\u003C\u002Fspan\u003E post = \u003Cspan class=\\\"hljs-keyword\\\"\u003Eawait\u003C\u002Fspan\u003E fetch(\u003Cspan class=\\\"hljs-string\\\"\u003E`\u002F\u003Cspan class=\\\"hljs-subst\\\"\u003E${slug}\u003C\u002Fspan\u003E.json`\u003C\u002Fspan\u003E)\\n        .then(\u003Cspan class=\\\"hljs-function\\\"\u003E(\u003Cspan class=\\\"hljs-params\\\"\u003Er\u003C\u002Fspan\u003E) =\u003E\u003C\u002Fspan\u003E r.json());\\n    \u003Cspan class=\\\"hljs-keyword\\\"\u003Ereturn\u003C\u002Fspan\u003E {\\n      \u003Cspan class=\\\"hljs-attr\\\"\u003Eprops\u003C\u002Fspan\u003E: { post }\\n    };\\n  }\\n\u003C\u002Fspan\u003E\u003Cspan class=\\\"hljs-tag\\\"\u003E&#x3C;\u002F\u003Cspan class=\\\"hljs-name\\\"\u003Escript\u003C\u002Fspan\u003E\u003E\u003C\u002Fspan\u003E\\n\\n{@html post.content}\\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\\n\u003Ch2\u003ETips\u003C\u002Fh2\u003E\\n\u003Cp\u003ESome confusing errrors could be solved by moving the dependencies to \u003Ccode\u003EdevDependencies\u003C\u002Fcode\u003E due to some bugs of Vite.\u003C\u002Fp\u003E\"}"}</script>
</div>
	</body>
</html>
